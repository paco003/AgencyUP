<ion-header-bar class="bar bar-header bar-dark">
  <h1 class="title">Nueva Conuslta</h1>
  <button class="button button-outline button-assertive" onClick="window.location='/#/leftMenu'">Cancel</button>
</ion-header-bar>
<ion-content class="padding" ng-controller="ConsultaCtrl">

  <form role="form" name="formu" ng-model="formulario" ng-submit="agregar2(Consultas)">


<!-- __________________________________Mensajes ____________________________________-->

<!-- Mensaje de nombre de la empresa-->
  <div ng-show="formu.Empresa.$dirty">

    <div ng-show="formu.Empresa.$error.required" class="alert alert-danger" role="alert">
      Nombre de la Empresa OBLIGATORIO
    </div>

  </div>

  <!-- Mensaje de nombre del contacto-->
  <div ng-show="formu.Contacto.$dirty">

    <div ng-show="formu.Contacto.$error.required" class="alert alert-danger" role="alert">
      Nombre del Contacto OBLIGATORIO
    </div>

  </div>

 <!-- Mensaje de nombre del Trabajador-->
  <div ng-show="formu.Trabajador.$dirty">

    <div ng-show="formu.Trabajador.$error.required" class="alert alert-danger" role="alert">
      Nombre del Trabajador OBLIGATORIO
    </div>

  </div>

<!-- Fin de Mensajes -->

<!-- Campos -->

<!-- Campo de nombre del trabajador -->
        <div class="list">
          <label for="Trabajador" class="item item-input item-floating-label" ng-class="{ 'has-error': formu.Trabajador.$invalid, 'has-success': formu.Trabajador.$valid }">
            <span class="input-label">Trabajador</span>

            <span ng-if="formu.Trabajador.$invalid" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>

              <input type="text" class="form-control"
              name="Trabajador"
              id="Trabajador"
              placeholder="Trabajador"
              ng-model="Consultas.Trabajador"
              autofocus required>
          </label>
        </div>


<!-- Campo de nombre de la empresa -->
        <div class="list" ng-controller="EmpresaCtrl">
            <label  class="item item-input item-floating-label" for="Empresa" ng-class="{ 'has-error': formu.Empresa.$invalid, 'has-success': formu.Empresa.$valid }">
              <span class="input-label">Empresa</span>

              <span ng-if="formu.Empresa.$invalid" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>

                <input type="text" class="form-control"
                    name="Empresa"
                    id="Empresa"
                    placeholder="Nombre de la Empresa"
                    ng-model="Consultas.Empresa"
                     required>

            </label>

            <ion-item ng-repeat="emp in empresa | filter: Consultas.Empresa">
            <center>
              <h2>Nombre: {{emp.Empresa}}</h2>
            </center>
            </ion-item>
          </div>


 <!-- Campo de nombre del contacto -->
        <div class="list" ng-controller="ContactoCtrl">
           <label for="Contacto" class="item item-input item-floating-label" ng-class="{ 'has-error': formu.Contacto.$invalid, 'has-success': formu.Contacto.$valid }">
            <span class="input-label">Contacto</span>

            <span ng-if="formu.Contacto.$invalid" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>

              <input type="text" class="form-control"
                  name="Contacto"
                  id="Contacto"
                  placeholder="Nombre del Contacto"
                  ng-model="Consultas.Contacto"
                  autofocus required>
          </label>

          <ion-item ng-repeat="cont in contacto | filter: Consultas.Contacto">
          <center>
            <h2>Nombre: {{cont.Nombre}}</h2>
          </center>
          </ion-item>

        </div>




<!-- Seleccionar la forma de contacto -->
      <div class="list">
      <label for="FormaContacto" class="item item-input item-select">
        <div class="input-label">
          Forma Contacto
        </div>
      <select class="form-control" ng-model="Consultas.FormaContacto" >

        <option>Busqueda en internet(Google)</option>
        <option>Recomendaci칩n</option>
        <option>Facebook</option>
        <option>Otro</option>
      </select>
      </label>

      </div>

<!-- Seleccionar la necesidad -->
      <div class="list">
      <label for="Necesidad" class="item item-input item-select">
        <div class="input-label">
          Necesidad
        </div>
      <select class="form-control" ng-model="Consultas.Necesidad">

        <option>Desarrollo Web</option>
        <option>Campa침as Digitales</option>
        <option>Aplicaciones</option>
        <option>Dise침o Grafico</option>
      </select>
      </label>

      </div>

<!-- Seleccionar el Status de la consulta -->
      <div class="list">
      <label for="Status" class="item item-input item-select">
        <div class="input-label">
          Status
        </div>
      <select class="form-control" ng-model="Consultas.Status">

        <option>Enviado</option>
        <option>Seguimiento</option>
        <option>Aceptado</option>
      </select>
      </label>
    </div>

<!-- Seleccionar la fecha de la consulta -->
    <label for="Fecha" class="item item-input">
      <span  class="input-label">Fecha</span>
      <input type="date"  placeholder="Fecha" ng-model="Consultas.Fecha" >
    </label>

<!-- Fin de los Campos -->

<!-- Hasta que sea valido el formulario se habilita el bot칩n -->
<center>
<button ng-disabled="formu.$invalid" id="btnSend" class="button button-outline button-positive" onClick="window.location='/#/leftMenu'">
  Guardar</button>

</center>

</form>
</ion-content>
